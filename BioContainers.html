<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8"/>
    <title>BioFSharp.BioContainers
</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <meta name="description" content="An open source bioinformatics toolbox written in F#. <https://csbiology.github.io/BioFSharp/>"/>
    <meta name="author" content="Timo Mï¿½hlhaus, Kevin Schneider, Heinrich Lukas Weil, David Zimmer, F# open source contributors"/>

    <script src="https://code.jquery.com/jquery-1.8.0.js"></script>
    <script src="https://code.jquery.com/ui/1.8.23/jquery-ui.js"></script>
    <script src="https://netdna.bootstrapcdn.com/twitter-bootstrap/2.2.1/js/bootstrap.min.js"></script>
    <link href="https://netdna.bootstrapcdn.com/twitter-bootstrap/2.2.1/css/bootstrap-combined.min.css" rel="stylesheet"/>
    <meta http-equiv="X-UA-Compatible" content="IE=11" >
    <script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
    <link type="text/css" rel="stylesheet" href="https://CSBiology.github.io/BioFSharp//content/style.css" /> <!--https://CSBiology.github.io/BioFSharp/-->
    <link type="text/css" rel="stylesheet" href="https://CSBiology.github.io/BioFSharp//style/CSBstyle.css" /> <!--https://CSBiology.github.io/BioFSharp/-->
    <script type="text/javascript" src="https://CSBiology.github.io/BioFSharp//content/tips.js"></script> <!--https://CSBiology.github.io/BioFSharp/-->
    <!-- HTML5 shim, for IE6-8 support of HTML5 elements -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
    <![endif]-->
  </head>
	<body>
		<div class="container">
		  <div class="masthead">
			<ul class="nav nav-pills pull-right">
			  <li><a href="http://fsharp.org">fsharp.org</a></li>
			  <li><a href="https://github.com/CSBiology/BioFSharp">github page</a></li>
			</ul>
			<h3 class="muted"><a href="https://CSBiology.github.io/BioFSharp//index.html">BioFSharp</a></h3>
		  </div>
		  <hr />
		  <div class="row">
			<div class="span9" id="main">
			  <h1><a name="BioFSharp-BioContainers" class="anchor" href="#BioFSharp-BioContainers">BioFSharp.BioContainers</a></h1>
<p>BioFSharp.BioContainers is all about connecting BioFSharp and F# itself with the Bioinformatics community and integrating
common bioinformatic workflows.There are many established tools and software suites in bioinformatics, and most of the time
there is no point in rewriting them for a specific programming language. Containerized applications make it possible to use
all these tools while being OS and programming language agnostic - meaning you can use containerized linux tools in your
windows based pipeline, python applications in containers followed by a containerized C++ application and so on. Take a look
at this graphic to get an overview of how BioFSharp.BioContainers works in principle:</p>
<p><img src="img/BioContainers_Overview.png" alt="BioContainers_Overview" /></p>
<p>BioFSharp.BioContainers gives you the possibility to leverage containerized applications without leaving you F# environment.
We build on the fondation of <a href="https://github.com/microsoft/Docker.DotNet">Docker.DotNet</a> to programmatically access the the REST API on top of the docker daemon
<strong>(1 + 2)</strong>. The daemon then does its thing, executing the commands given, for example creating containers, executing computations
in a container, etc <strong>(3)</strong>. We provide special functions to use with <a href="https://biocontainers-edu.readthedocs.io/en/latest/what_is_biocontainers.html">biocontainers</a>, which is a standardized way to create
containerized bioinformatic software <strong>(4)</strong>. The results are then returned via the daemon and REST API back to you F# interactive <strong>(5)</strong></p>
<p>The project is in its early stages and many features provided by the REST API are not fully implemented yet, so if you would like
to help out, this is a great place to do so!</p>
<h2><a name="Prerequisites" class="anchor" href="#Prerequisites">Prerequisites</a></h2>
<p><strong>Windows</strong></p>
<ul>
<li>Install <a href="https://docs.docker.com/docker-for-windows/install/">Docker Desktop for windows</a></li>
</ul>
<p><strong>Linux</strong></p>
<ul>
<li>Not tested yet, but If there is a way to use a named pipe as in windows, everything should work as it does on windows.</li>
</ul>
<h2><a name="General-Usage" class="anchor" href="#General-Usage">General Usage</a></h2>
<p>lets say we have Docker for Windows set up and pulled an ubuntu image (docker pull ubuntu). To connect with the Rest API, first use the
<code>Docker.connect</code> function to initialize a Docker Client.</p>
<table class="pre"><tr><td class="lines"><pre class="fssnip"><span class="l">1: </span>
<span class="l">2: </span>
<span class="l">3: </span>
<span class="l">4: </span>
<span class="l">5: </span>
</pre></td>
<td class="snippet"><pre class="fssnip highlighted"><code lang="fsharp"><span class="k">open</span> <span onmouseout="hideTip(event, 'fs1', 1)" onmouseover="showTip(event, 'fs1', 1)" class="id">BioFSharp</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs2', 2)" onmouseover="showTip(event, 'fs2', 2)" class="id">BioContainers</span>
<span class="c">///parameters for blastP</span>

<span class="c">///npipe://./pipe/docker_engine is the named pipe for the docker engine under windows.</span>
<span class="k">let</span> <span onmouseout="hideTip(event, 'fs3', 3)" onmouseover="showTip(event, 'fs3', 3)" class="id">client</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs4', 4)" onmouseover="showTip(event, 'fs4', 4)" class="m">Docker</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs5', 5)" onmouseover="showTip(event, 'fs5', 5)" class="id">connect</span> <span class="s">&quot;npipe://./pipe/docker_engine&quot;</span>
</code></pre></td>
</tr>
</table>
<p>Some vanilla docker commands are already implemented. here is an example of listing information about all images from F# interactive
(equivalent to <code>docker images ls -a</code> in docker cli)</p>
<table class="pre"><tr><td class="lines"><pre class="fssnip"><span class="l">1: </span>
<span class="l">2: </span>
<span class="l">3: </span>
<span class="l">4: </span>
<span class="l">5: </span>
<span class="l">6: </span>
</pre></td>
<td class="snippet"><pre class="fssnip highlighted"><code lang="fsharp"><span onmouseout="hideTip(event, 'fs3', 6)" onmouseover="showTip(event, 'fs3', 6)" class="id">client</span>
<span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs4', 7)" onmouseover="showTip(event, 'fs4', 7)" class="m">Docker</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs6', 8)" onmouseover="showTip(event, 'fs6', 8)" class="m">Image</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs7', 9)" onmouseover="showTip(event, 'fs7', 9)" class="id">listImages</span>
<span class="o">|&gt;</span> <span class="k">fun</span> <span onmouseout="hideTip(event, 'fs8', 10)" onmouseover="showTip(event, 'fs8', 10)" class="id">images</span> <span class="k">-&gt;</span>
    <span onmouseout="hideTip(event, 'fs9', 11)" onmouseover="showTip(event, 'fs9', 11)" class="fn">printfn</span> <span class="s">&quot;Repository/Tags\tImageId\tCreated\t Size&quot;</span>
    <span onmouseout="hideTip(event, 'fs8', 12)" onmouseover="showTip(event, 'fs8', 12)" class="id">images</span> 
    <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs10', 13)" onmouseover="showTip(event, 'fs10', 13)" class="m">Seq</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs11', 14)" onmouseover="showTip(event, 'fs11', 14)" class="id">iter</span> <span class="pn">(</span><span class="k">fun</span> <span onmouseout="hideTip(event, 'fs12', 15)" onmouseover="showTip(event, 'fs12', 15)" class="id">img</span> <span class="k">-&gt;</span> <span onmouseout="hideTip(event, 'fs9', 16)" onmouseover="showTip(event, 'fs9', 16)" class="fn">printfn</span> <span class="s">&quot;</span><span class="pf">%A</span><span class="s">\t</span><span class="pf">%s</span><span class="s">\t</span><span class="pf">%A</span><span class="s">\t </span><span class="pf">%A</span><span class="s">&quot;</span> <span onmouseout="hideTip(event, 'fs12', 17)" onmouseover="showTip(event, 'fs12', 17)" class="id">img</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs13', 18)" onmouseover="showTip(event, 'fs13', 18)" class="id">RepoTags</span> <span onmouseout="hideTip(event, 'fs12', 19)" onmouseover="showTip(event, 'fs12', 19)" class="id">img</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs14', 20)" onmouseover="showTip(event, 'fs14', 20)" class="id">ID</span> <span onmouseout="hideTip(event, 'fs12', 21)" onmouseover="showTip(event, 'fs12', 21)" class="id">img</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs15', 22)" onmouseover="showTip(event, 'fs15', 22)" class="id">Created</span> <span onmouseout="hideTip(event, 'fs12', 23)" onmouseover="showTip(event, 'fs12', 23)" class="id">img</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs16', 24)" onmouseover="showTip(event, 'fs16', 24)" class="id">Size</span><span class="pn">)</span>
</code></pre></td>
</tr>
</table>
<p>Output:</p>
<table class="pre"><tr><td class="lines"><pre class="fssnip"><span class="l">1: </span>
<span class="l">2: </span>
</pre></td>
<td class="snippet"><pre class="fssnip highlighted"><code lang="fsharp">    <span class="id">Repository</span><span class="o">/</span><span class="id">Tags</span>         <span class="id">ImageId</span>                                                                     <span class="id">Created</span>                 <span class="id">Size</span>
    <span onmouseout="hideTip(event, 'fs17', 25)" onmouseover="showTip(event, 'fs17', 25)" class="k">seq</span> <span class="pn">[</span><span class="s">&quot;ubuntu:latest&quot;</span><span class="pn">]</span>   <span class="id">sha256</span><span class="pn">:</span><span class="id">cf0f3ca922e08045795f67138b394c7287fbc0f4842ee39244a1a1aaca8c5e1c</span>     <span class="n">10</span><span class="o">/</span><span class="n">18</span><span class="o">/</span><span class="n">2019</span> <span class="n">6</span><span class="pn">:</span><span class="n">48</span><span class="pn">:</span><span class="n">51</span> <span class="id">PM</span>   <span class="n">64192156L</span>
</code></pre></td>
</tr>
</table>
<h2><a name="Creating-containers-and-executing-commands-in-them" class="anchor" href="#Creating-containers-and-executing-commands-in-them">Creating containers and executing commands in them</a></h2>
<p>To create a container from an existing image, initialite a <code>BioContainer.BcContext</code>. That way, a new
container will not only be spawned, but kept running to receive your commands.</p>
<table class="pre"><tr><td class="lines"><pre class="fssnip"><span class="l">1: </span>
<span class="l">2: </span>
<span class="l">3: </span>
<span class="l">4: </span>
<span class="l">5: </span>
<span class="l">6: </span>
<span class="l">7: </span>
</pre></td>
<td class="snippet"><pre class="fssnip highlighted"><code lang="fsharp"><span class="c">///Create a representation of your image on the F# side</span>
<span class="k">let</span> <span onmouseout="hideTip(event, 'fs18', 26)" onmouseover="showTip(event, 'fs18', 26)" class="id">ubuntuImage</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs4', 27)" onmouseover="showTip(event, 'fs4', 27)" class="m">Docker</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs19', 28)" onmouseover="showTip(event, 'fs19', 28)" class="rt">DockerId</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs20', 29)" onmouseover="showTip(event, 'fs20', 29)" class="id">ImageId</span> <span class="s">&quot;ubuntu:latest&quot;</span>

<span class="c">///Create a container from the image and keep it running (the container context for all future commands)</span>
<span class="k">let</span> <span onmouseout="hideTip(event, 'fs21', 30)" onmouseover="showTip(event, 'fs21', 30)" class="id">bcContext</span> <span class="o">=</span> 
    <span onmouseout="hideTip(event, 'fs22', 31)" onmouseover="showTip(event, 'fs22', 31)" class="m">BioContainer</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs23', 32)" onmouseover="showTip(event, 'fs23', 32)" class="id">initBcContextAsync</span> <span onmouseout="hideTip(event, 'fs3', 33)" onmouseover="showTip(event, 'fs3', 33)" class="id">client</span> <span onmouseout="hideTip(event, 'fs18', 34)" onmouseover="showTip(event, 'fs18', 34)" class="id">ubuntuImage</span>
    <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs24', 35)" onmouseover="showTip(event, 'fs24', 35)" class="rt">Async</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs25', 36)" onmouseover="showTip(event, 'fs25', 36)" class="id">RunSynchronously</span>
</code></pre></td>
</tr>
</table>
<p>To run a command in the container, use either <code>BioContainer.execAsync</code> to run the command, only printing
stdout/stderr to the F# interactive, or <code>BioCOntainer.execReturnAsync</code> to get stdout/stderr as a string that
you can bind to a name</p>
<table class="pre"><tr><td class="lines"><pre class="fssnip"><span class="l">1: </span>
<span class="l">2: </span>
<span class="l">3: </span>
<span class="l">4: </span>
<span class="l">5: </span>
<span class="l">6: </span>
<span class="l">7: </span>
<span class="l">8: </span>
</pre></td>
<td class="snippet"><pre class="fssnip highlighted"><code lang="fsharp"><span class="c">//just run the command and print the results</span>
<span onmouseout="hideTip(event, 'fs22', 37)" onmouseover="showTip(event, 'fs22', 37)" class="m">BioContainer</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs26', 38)" onmouseover="showTip(event, 'fs26', 38)" class="id">execAsync</span> <span onmouseout="hideTip(event, 'fs21', 39)" onmouseover="showTip(event, 'fs21', 39)" class="id">bcContext</span> <span class="pn">[</span><span class="s">&quot;echo&quot;</span><span class="pn">;</span><span class="s">&quot;hello world&quot;</span><span class="pn">]</span>
<span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs24', 40)" onmouseover="showTip(event, 'fs24', 40)" class="rt">Async</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs25', 41)" onmouseover="showTip(event, 'fs25', 41)" class="id">RunSynchronously</span>

<span class="c">///bind the results of the command to a value</span>
<span class="k">let</span> <span onmouseout="hideTip(event, 'fs27', 42)" onmouseover="showTip(event, 'fs27', 42)" class="id">returnValue</span> <span class="o">=</span>
    <span onmouseout="hideTip(event, 'fs22', 43)" onmouseover="showTip(event, 'fs22', 43)" class="m">BioContainer</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs28', 44)" onmouseover="showTip(event, 'fs28', 44)" class="id">execReturnAsync</span> <span onmouseout="hideTip(event, 'fs21', 45)" onmouseover="showTip(event, 'fs21', 45)" class="id">bcContext</span> <span class="pn">[</span><span class="s">&quot;echo&quot;</span><span class="pn">;</span><span class="s">&quot;hello world&quot;</span><span class="pn">]</span>
    <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs24', 46)" onmouseover="showTip(event, 'fs24', 46)" class="rt">Async</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs25', 47)" onmouseover="showTip(event, 'fs25', 47)" class="id">RunSynchronously</span>
</code></pre></td>
</tr>
</table>
<p>Don't forget, the container will be kept running, so dispose it if you do not need it anymore to
prevent it from eating up ressources</p>
<table class="pre"><tr><td class="lines"><pre class="fssnip"><span class="l">1: </span>
<span class="l">2: </span>
<span class="l">3: </span>
</pre></td>
<td class="snippet"><pre class="fssnip highlighted"><code lang="fsharp"><span onmouseout="hideTip(event, 'fs21', 48)" onmouseover="showTip(event, 'fs21', 48)" class="id">bcContext</span>
<span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs22', 49)" onmouseover="showTip(event, 'fs22', 49)" class="m">BioContainer</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs29', 50)" onmouseover="showTip(event, 'fs29', 50)" class="id">disposeAsync</span>
<span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs24', 51)" onmouseover="showTip(event, 'fs24', 51)" class="rt">Async</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs25', 52)" onmouseover="showTip(event, 'fs25', 52)" class="id">RunSynchronously</span>
</code></pre></td>
</tr>
</table>
<h2><a name="Using-actual-biocontainers" class="anchor" href="#Using-actual-biocontainers">Using actual biocontainers</a></h2>
<p>To leverage the advantages of F#, namingly its type safety, passing commands as strings is not enough.
The tools in BioContainers come with extensive documentation of input commands and allowed/parsed types.
We here propose a type safe modelling of the commands, with a little bit of overhead to ensure correct
paths (going from windows to linux paths in the containers). We already provide API wrappers for some tools,
such as BLAST, TMHMM, or intaRNA. If you want to create your own, please refer to the <a href="">design guide</a>.</p>
<p>Here is a short example for BLAST (indepth information about this the type modelling of this tool can be found <a href="">here</a>:</p>
<p>First you have to either pull the BLAST BioContainer image either via docker cli or by building them from the docker file
A way to do this from F# is in the making.</p>
<p>The protein fasta used here can be found <a href="">here</a></p>
<table class="pre"><tr><td class="lines"><pre class="fssnip"><span class="l">1: </span>
<span class="l">2: </span>
<span class="l">3: </span>
<span class="l">4: </span>
</pre></td>
<td class="snippet"><pre class="fssnip highlighted"><code lang="fsharp"><span class="k">open</span> <span onmouseout="hideTip(event, 'fs1', 53)" onmouseover="showTip(event, 'fs1', 53)" class="id">BioFSharp</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs2', 54)" onmouseover="showTip(event, 'fs2', 54)" class="id">BioContainers</span>
<span class="k">open</span> <span onmouseout="hideTip(event, 'fs30', 55)" onmouseover="showTip(event, 'fs30', 55)" class="id">Blast</span>

<span class="c">///this time, we set the container up using a mount, making sure that it can access data from the file system we want to use.</span>
</code></pre></td>
</tr>
</table>
<table class="pre"><tr><td class="lines"><pre class="fssnip"><span class="l"> 1: </span>
<span class="l"> 2: </span>
<span class="l"> 3: </span>
<span class="l"> 4: </span>
<span class="l"> 5: </span>
<span class="l"> 6: </span>
<span class="l"> 7: </span>
<span class="l"> 8: </span>
<span class="l"> 9: </span>
<span class="l">10: </span>
<span class="l">11: </span>
<span class="l">12: </span>
<span class="l">13: </span>
<span class="l">14: </span>
<span class="l">15: </span>
<span class="l">16: </span>
<span class="l">17: </span>
<span class="l">18: </span>
<span class="l">19: </span>
<span class="l">20: </span>
<span class="l">21: </span>
<span class="l">22: </span>
<span class="l">23: </span>
<span class="l">24: </span>
<span class="l">25: </span>
<span class="l">26: </span>
<span class="l">27: </span>
<span class="l">28: </span>
<span class="l">29: </span>
</pre></td>
<td class="snippet"><pre class="fssnip highlighted"><code lang="fsharp"><span class="k">let</span> <span onmouseout="hideTip(event, 'fs31', 56)" onmouseover="showTip(event, 'fs31', 56)" class="id">ImageBlast</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs4', 57)" onmouseover="showTip(event, 'fs4', 57)" class="m">Docker</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs19', 58)" onmouseover="showTip(event, 'fs19', 58)" class="rt">DockerId</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs20', 59)" onmouseover="showTip(event, 'fs20', 59)" class="id">ImageId</span> <span class="s">&quot;blast:2.2.31--pl526h3066fca_3&quot;</span>

<span class="k">let</span> <span onmouseout="hideTip(event, 'fs32', 60)" onmouseover="showTip(event, 'fs32', 60)" class="id">blastContext</span> <span class="o">=</span> 
    <span onmouseout="hideTip(event, 'fs22', 61)" onmouseover="showTip(event, 'fs22', 61)" class="m">BioContainer</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs33', 62)" onmouseover="showTip(event, 'fs33', 62)" class="id">initBcContextWithMountAsync</span> 
        <span onmouseout="hideTip(event, 'fs3', 63)" onmouseover="showTip(event, 'fs3', 63)" class="id">client</span> 
        <span onmouseout="hideTip(event, 'fs31', 64)" onmouseover="showTip(event, 'fs31', 64)" class="id">ImageBlast</span> 
        <span class="s">&quot;absolute/path/to/mounted/directory&quot;</span>
    <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs24', 65)" onmouseover="showTip(event, 'fs24', 65)" class="rt">Async</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs25', 66)" onmouseover="showTip(event, 'fs25', 66)" class="id">RunSynchronously</span>

<span class="c">///parameters for search DB creation</span>
<span class="k">let</span> <span onmouseout="hideTip(event, 'fs34', 67)" onmouseover="showTip(event, 'fs34', 67)" class="id">makeDBParams</span> <span class="o">=</span>
    <span class="pn">[</span>
        <span onmouseout="hideTip(event, 'fs35', 68)" onmouseover="showTip(event, 'fs35', 68)" class="rt">MakeBlastDbParams</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs36', 69)" onmouseover="showTip(event, 'fs36', 69)" class="id">DbType</span>    <span onmouseout="hideTip(event, 'fs37', 70)" onmouseover="showTip(event, 'fs37', 70)" class="uc">Protein</span>
        <span onmouseout="hideTip(event, 'fs35', 71)" onmouseover="showTip(event, 'fs35', 71)" class="rt">MakeBlastDbParams</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs38', 72)" onmouseover="showTip(event, 'fs38', 72)" class="id">Input</span>     <span class="s">&quot;absolute/path/to/your/subject&quot;</span>
        <span onmouseout="hideTip(event, 'fs35', 73)" onmouseover="showTip(event, 'fs35', 73)" class="rt">MakeBlastDbParams</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs39', 74)" onmouseover="showTip(event, 'fs39', 74)" class="id">Output</span>    <span class="s">&quot;absolute/path/to/your/outputfile&quot;</span>
    <span class="pn">]</span>

<span class="c">///parameters for the blastp search</span>
<span class="k">let</span> <span onmouseout="hideTip(event, 'fs40', 75)" onmouseover="showTip(event, 'fs40', 75)" class="id">runParams</span> <span class="o">=</span>
    <span class="pn">[</span>
        <span onmouseout="hideTip(event, 'fs41', 76)" onmouseover="showTip(event, 'fs41', 76)" class="m">BlastP</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs42', 77)" onmouseover="showTip(event, 'fs42', 77)" class="rt">BlastPParameters</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs43', 78)" onmouseover="showTip(event, 'fs43', 78)" class="id">CommonOptions</span> <span class="pn">[</span>
            <span onmouseout="hideTip(event, 'fs44', 79)" onmouseover="showTip(event, 'fs44', 79)" class="uc">Query</span>               <span class="s">&quot;absolute/path/to/your/query&quot;</span>
            <span onmouseout="hideTip(event, 'fs45', 80)" onmouseover="showTip(event, 'fs45', 80)" class="uc">SearchDB</span>            <span class="s">&quot;absolute/path/to/your/subject&quot;</span>
            <span onmouseout="hideTip(event, 'fs46', 81)" onmouseover="showTip(event, 'fs46', 81)" class="uc">Output</span>              <span class="s">&quot;absolute/path/to/your/outputfile&quot;</span>
        <span class="pn">]</span>
        <span onmouseout="hideTip(event, 'fs41', 82)" onmouseover="showTip(event, 'fs41', 82)" class="m">BlastP</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs42', 83)" onmouseover="showTip(event, 'fs42', 83)" class="rt">BlastPParameters</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs47', 84)" onmouseover="showTip(event, 'fs47', 84)" class="id">SpecificOptions</span> <span class="pn">[</span>
            <span onmouseout="hideTip(event, 'fs41', 85)" onmouseover="showTip(event, 'fs41', 85)" class="m">BlastP</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs48', 86)" onmouseover="showTip(event, 'fs48', 86)" class="rt">BlastPParams</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs49', 87)" onmouseover="showTip(event, 'fs49', 87)" class="id">WordSize</span>    <span class="n">11</span>
        <span class="pn">]</span>
    <span class="pn">]</span>
</code></pre></td>
</tr>
</table>
<p>finally, we can run the searchdb generation and the subsequent search in the container like this:</p>
<table class="pre"><tr><td class="lines"><pre class="fssnip"><span class="l">1: </span>
<span class="l">2: </span>
<span class="l">3: </span>
<span class="l">4: </span>
<span class="l">5: </span>
</pre></td>
<td class="snippet"><pre class="fssnip highlighted"><code lang="fsharp"><span onmouseout="hideTip(event, 'fs34', 88)" onmouseover="showTip(event, 'fs34', 88)" class="id">makeDBParams</span>
<span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs30', 89)" onmouseover="showTip(event, 'fs30', 89)" class="m">Blast</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs50', 90)" onmouseover="showTip(event, 'fs50', 90)" class="id">runMakeBlastDB</span> <span onmouseout="hideTip(event, 'fs32', 91)" onmouseover="showTip(event, 'fs32', 91)" class="id">blastContext</span>

<span onmouseout="hideTip(event, 'fs40', 92)" onmouseover="showTip(event, 'fs40', 92)" class="id">runParams</span>
<span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs30', 93)" onmouseover="showTip(event, 'fs30', 93)" class="m">Blast</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs41', 94)" onmouseover="showTip(event, 'fs41', 94)" class="m">BlastP</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs51', 95)" onmouseover="showTip(event, 'fs51', 95)" class="id">runBlastP</span> <span onmouseout="hideTip(event, 'fs32', 96)" onmouseover="showTip(event, 'fs32', 96)" class="id">blastContext</span>
</code></pre></td>
</tr>
</table>
<p>Don't forget, the container will be kept running, so dispose it if you do not need it anymore to
prevent it from eating up ressources</p>
<table class="pre"><tr><td class="lines"><pre class="fssnip"><span class="l">1: </span>
<span class="l">2: </span>
<span class="l">3: </span>
<span class="l">4: </span>
</pre></td>
<td class="snippet"><pre class="fssnip highlighted"><code lang="fsharp"><span onmouseout="hideTip(event, 'fs32', 97)" onmouseover="showTip(event, 'fs32', 97)" class="id">blastContext</span>
<span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs22', 98)" onmouseover="showTip(event, 'fs22', 98)" class="m">BioContainer</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs29', 99)" onmouseover="showTip(event, 'fs29', 99)" class="id">disposeAsync</span>
<span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs24', 100)" onmouseover="showTip(event, 'fs24', 100)" class="rt">Async</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs25', 101)" onmouseover="showTip(event, 'fs25', 101)" class="id">RunSynchronously</span>
    
</code></pre></td>
</tr>
</table>

<div class="tip" id="fs1">namespace BioFSharp</div>
<div class="tip" id="fs2">namespace BioFSharp.BioContainers</div>
<div class="tip" id="fs3">val client : Docker.DotNet.DockerClient<br /><em><br /><br />npipe://./pipe/docker_engine is the named pipe for the docker engine under windows.</em></div>
<div class="tip" id="fs4">Multiple items<br />module Docker<br /><br />from BioFSharp.BioContainers<br /><br />--------------------<br />namespace Docker</div>
<div class="tip" id="fs5">val connect : str:string -&gt; Docker.DotNet.DockerClient</div>
<div class="tip" id="fs6">module Image<br /><br />from BioFSharp.BioContainers.Docker</div>
<div class="tip" id="fs7">val listImages : connection:Docker.DotNet.DockerClient -&gt; seq&lt;Docker.DotNet.Models.ImagesListResponse&gt;</div>
<div class="tip" id="fs8">val images : seq&lt;Docker.DotNet.Models.ImagesListResponse&gt;</div>
<div class="tip" id="fs9">val printfn : format:Printf.TextWriterFormat&lt;&#39;T&gt; -&gt; &#39;T</div>
<div class="tip" id="fs10">module Seq<br /><br />from Microsoft.FSharp.Collections</div>
<div class="tip" id="fs11">val iter : action:(&#39;T -&gt; unit) -&gt; source:seq&lt;&#39;T&gt; -&gt; unit</div>
<div class="tip" id="fs12">val img : Docker.DotNet.Models.ImagesListResponse</div>
<div class="tip" id="fs13">property Docker.DotNet.Models.ImagesListResponse.RepoTags: System.Collections.Generic.IList&lt;string&gt; with get, set</div>
<div class="tip" id="fs14">property Docker.DotNet.Models.ImagesListResponse.ID: string with get, set</div>
<div class="tip" id="fs15">property Docker.DotNet.Models.ImagesListResponse.Created: System.DateTime with get, set</div>
<div class="tip" id="fs16">property Docker.DotNet.Models.ImagesListResponse.Size: int64 with get, set</div>
<div class="tip" id="fs17">Multiple items<br />val seq : sequence:seq&lt;&#39;T&gt; -&gt; seq&lt;&#39;T&gt;<br /><br />--------------------<br />type seq&lt;&#39;T&gt; = System.Collections.Generic.IEnumerable&lt;&#39;T&gt;</div>
<div class="tip" id="fs18">val ubuntuImage : Docker.DockerId<br /><em><br /><br />Create a representation of your image on the F# side</em></div>
<div class="tip" id="fs19">type DockerId =<br />&#160;&#160;| ImageId of string<br />&#160;&#160;| ImageName of string<br />&#160;&#160;| ContainerId of string<br />&#160;&#160;| ContainerName of string<br />&#160;&#160;| Tag of string * string<br />&#160;&#160;&#160;&#160;override ToString : unit -&gt; string</div>
<div class="tip" id="fs20">union case Docker.DockerId.ImageId: string -&gt; Docker.DockerId</div>
<div class="tip" id="fs21">val bcContext : BioContainer.BcContext<br /><em><br /><br />Create a container from the image and keep it running (the container context for all future commands)</em></div>
<div class="tip" id="fs22">module BioContainer<br /><br />from BioFSharp.BioContainers</div>
<div class="tip" id="fs23">val initBcContextAsync : connection:Docker.DotNet.DockerClient -&gt; image:Docker.DockerId -&gt; Async&lt;BioContainer.BcContext&gt;</div>
<div class="tip" id="fs24">Multiple items<br />type Async =<br />&#160;&#160;static member AsBeginEnd : computation:(&#39;Arg -&gt; Async&lt;&#39;T&gt;) -&gt; (&#39;Arg * AsyncCallback * obj -&gt; IAsyncResult) * (IAsyncResult -&gt; &#39;T) * (IAsyncResult -&gt; unit)<br />&#160;&#160;static member AwaitEvent : event:IEvent&lt;&#39;Del,&#39;T&gt; * ?cancelAction:(unit -&gt; unit) -&gt; Async&lt;&#39;T&gt; (requires delegate and &#39;Del :&gt; Delegate)<br />&#160;&#160;static member AwaitIAsyncResult : iar:IAsyncResult * ?millisecondsTimeout:int -&gt; Async&lt;bool&gt;<br />&#160;&#160;static member AwaitTask : task:Task -&gt; Async&lt;unit&gt;<br />&#160;&#160;static member AwaitTask : task:Task&lt;&#39;T&gt; -&gt; Async&lt;&#39;T&gt;<br />&#160;&#160;static member AwaitWaitHandle : waitHandle:WaitHandle * ?millisecondsTimeout:int -&gt; Async&lt;bool&gt;<br />&#160;&#160;static member CancelDefaultToken : unit -&gt; unit<br />&#160;&#160;static member Catch : computation:Async&lt;&#39;T&gt; -&gt; Async&lt;Choice&lt;&#39;T,exn&gt;&gt;<br />&#160;&#160;static member Choice : computations:seq&lt;Async&lt;&#39;T option&gt;&gt; -&gt; Async&lt;&#39;T option&gt;<br />&#160;&#160;static member FromBeginEnd : beginAction:(AsyncCallback * obj -&gt; IAsyncResult) * endAction:(IAsyncResult -&gt; &#39;T) * ?cancelAction:(unit -&gt; unit) -&gt; Async&lt;&#39;T&gt;<br />&#160;&#160;...<br /><br />--------------------<br />type Async&lt;&#39;T&gt; =</div>
<div class="tip" id="fs25">static member Async.RunSynchronously : computation:Async&lt;&#39;T&gt; * ?timeout:int * ?cancellationToken:System.Threading.CancellationToken -&gt; &#39;T</div>
<div class="tip" id="fs26">val execAsync : bc:BioContainer.BcContext -&gt; cmd:seq&lt;string&gt; -&gt; Async&lt;unit&gt;</div>
<div class="tip" id="fs27">val returnValue : string<br /><em><br /><br />bind the results of the command to a value</em></div>
<div class="tip" id="fs28">val execReturnAsync : bc:BioContainer.BcContext -&gt; cmd:seq&lt;string&gt; -&gt; Async&lt;string&gt;</div>
<div class="tip" id="fs29">val disposeAsync : bc:BioContainer.BcContext -&gt; Async&lt;unit&gt;</div>
<div class="tip" id="fs30">module Blast<br /><br />from BioFSharp.BioContainers</div>
<div class="tip" id="fs31">val ImageBlast : Docker.DockerId<br /><em><br /><br />this time, we set the container up using a mount, making sure that it can access data from the file system we want to use.</em></div>
<div class="tip" id="fs32">val blastContext : BioContainer.BcContext</div>
<div class="tip" id="fs33">val initBcContextWithMountAsync : connection:Docker.DotNet.DockerClient -&gt; image:Docker.DockerId -&gt; hostdirectory:string -&gt; Async&lt;BioContainer.BcContext&gt;</div>
<div class="tip" id="fs34">val makeDBParams : MakeBlastDbParams list<br /><em><br /><br />parameters for search DB creation</em></div>
<div class="tip" id="fs35">type MakeBlastDbParams =<br />&#160;&#160;| Input of string<br />&#160;&#160;| InputType of MakeBlastDBInputType<br />&#160;&#160;| DbType of DbType<br />&#160;&#160;| Title of string<br />&#160;&#160;| ParseSeqIds<br />&#160;&#160;| HashIndex<br />&#160;&#160;| MaskData of string list<br />&#160;&#160;| Output of string<br />&#160;&#160;| MaxFileSize of string<br />&#160;&#160;| TaxId of int<br />&#160;&#160;...<br />&#160;&#160;&#160;&#160;static member makeCmd : (MakeBlastDbParams -&gt; string list)<br />&#160;&#160;&#160;&#160;static member makeCmdWith : m:MountInfo -&gt; (MakeBlastDbParams -&gt; string list)</div>
<div class="tip" id="fs36">union case MakeBlastDbParams.DbType: DbType -&gt; MakeBlastDbParams</div>
<div class="tip" id="fs37">union case DbType.Protein: DbType</div>
<div class="tip" id="fs38">union case MakeBlastDbParams.Input: string -&gt; MakeBlastDbParams</div>
<div class="tip" id="fs39">union case MakeBlastDbParams.Output: string -&gt; MakeBlastDbParams</div>
<div class="tip" id="fs40">val runParams : BlastP.BlastPParameters list<br /><em><br /><br />parameters for the blastp search</em></div>
<div class="tip" id="fs41">module BlastP<br /><br />from BioFSharp.BioContainers.Blast</div>
<div class="tip" id="fs42">type BlastPParameters =<br />&#160;&#160;| CommonOptions of BlastParams list<br />&#160;&#160;| SpecificOptions of BlastPParams list<br />&#160;&#160;&#160;&#160;static member makeCmd : (BlastPParameters -&gt; string list)<br />&#160;&#160;&#160;&#160;static member makeCmdWith : m:MountInfo -&gt; (BlastPParameters -&gt; string list)</div>
<div class="tip" id="fs43">union case BlastP.BlastPParameters.CommonOptions: BlastParams list -&gt; BlastP.BlastPParameters</div>
<div class="tip" id="fs44">union case BlastParams.Query: string -&gt; BlastParams</div>
<div class="tip" id="fs45">union case BlastParams.SearchDB: string -&gt; BlastParams</div>
<div class="tip" id="fs46">union case BlastParams.Output: string -&gt; BlastParams</div>
<div class="tip" id="fs47">union case BlastP.BlastPParameters.SpecificOptions: BlastP.BlastPParams list -&gt; BlastP.BlastPParameters</div>
<div class="tip" id="fs48">type BlastPParams =<br />&#160;&#160;| WordSize of int<br />&#160;&#160;| GapOpen of int<br />&#160;&#160;| GapExtend of int<br />&#160;&#160;| Matrix of string<br />&#160;&#160;| Threshold of int<br />&#160;&#160;| CompBasedStats of string<br />&#160;&#160;| SoftMasking of bool<br />&#160;&#160;| WindowSize of int<br />&#160;&#160;| Seg of string<br />&#160;&#160;| LowerCaseMasking<br />&#160;&#160;...<br />&#160;&#160;&#160;&#160;static member makeCmd : (BlastPParams -&gt; string list)<br />&#160;&#160;&#160;&#160;static member makeCmdWith : m:MountInfo -&gt; (BlastPParams -&gt; string list)</div>
<div class="tip" id="fs49">union case BlastP.BlastPParams.WordSize: int -&gt; BlastP.BlastPParams</div>
<div class="tip" id="fs50">val runMakeBlastDB : bcContext:BioContainer.BcContext -&gt; opt:MakeBlastDbParams list -&gt; unit</div>
<div class="tip" id="fs51">val runBlastP : bcContext:BioContainer.BcContext -&gt; opt:BlastP.BlastPParameters list -&gt; unit</div>

			</div>
			<div class="span3" >
			  <img src="https://CSBiology.github.io/BioFSharp//img/logo.png" alt="F# Project" style="width:150px;margin:10px" />  
              <ul class="nav nav-list" id="menu" style="margin-top: 20px;">
                  <li class="nav-header">BioFSharp</li>
                  <li><a href="https://CSBiology.github.io/BioFSharp//index.html">Home page</a></li>
                  <li class="divider"></li>
                  <li><a href="https://CSBiology.github.io/BioFSharp//release-notes.html">Release Notes</a></li>
                  <li><a href="https://CSBiology.github.io/BioFSharp//Introduction.html">Getting started</a></li>

                  <li class="nav-header">BioFSharp core</li>
                  <li><a href="https://CSBiology.github.io/BioFSharp//Formula.html">Formula</a></li>
                  <li>
                      <a href="https://CSBiology.github.io/BioFSharp//BioItem.html">BioItems</a>
                  </li>
                  <li><a href="https://CSBiology.github.io/BioFSharp//BioCollections.html">BioCollections</a></li>
                  <li><a href="https://CSBiology.github.io/BioFSharp//AminoProperties.html">Peptide Properties</a></li>
                  <li class="nav-header">BioContainers</li>
                  <li><a href="https://CSBiology.github.io/BioFSharp//BioContainers.html">Introduction</a></li>
                  <li><a href="https://CSBiology.github.io/BioFSharp//BioContainersDesignGuide.html">Container API Design Guide</a></li>
                  <li><a href="https://CSBiology.github.io/BioFSharp//BioContainers_TargetP.html">TargetP</a></li>
                  <li class="nav-header">Algorithm</li>
                  <li><a href="https://CSBiology.github.io/BioFSharp//Alignment.html">Alignment</a></li>
                  <li><a href="https://CSBiology.github.io/BioFSharp//ClustalOWrapper.html">Clustal Omega</a></li>
                  <li><a href="https://CSBiology.github.io/BioFSharp//MotiveSearch.html">Motive search</a></li>
                  <li><a href="https://CSBiology.github.io/BioFSharp//BlastWrapper.html">NCBI-Blast</a></li>
                  <li>
                      <a href="https://CSBiology.github.io/BioFSharp//StringMatching.html">Pattern Queries</a>
                  </li>
                  <li class="nav-header">File I/O</li>
                  <li>
                      <a href="https://CSBiology.github.io/BioFSharp//Clustal.html">Clustal</a>
                  </li>
                  <li><a href="https://CSBiology.github.io/BioFSharp//CSV.html">CSV / Tabular</a></li>
                  <li>
                      <a href="https://CSBiology.github.io/BioFSharp//FastA.html">FastA</a>
                  </li>
                  <li><a href="https://CSBiology.github.io/BioFSharp//FastQ.html">FastQ</a></li>
                  <li>
                      <a href="https://CSBiology.github.io/BioFSharp//GenBank.html">GenBank</a>
                  </li>
                  <li><a href="https://CSBiology.github.io/BioFSharp//SOFT.html">GEO Metadata (SOFT)</a></li>
                  <li>
                      <a href="https://CSBiology.github.io/BioFSharp//GFF3.html">GFF3</a>
                  </li>
                  <li>
                      <a href="https://CSBiology.github.io/BioFSharp//Newick.html">Newick</a>
                  </li>
                  <li><a href="https://CSBiology.github.io/BioFSharp//Obo.html">Obo ontology format</a></li>
                  <li>
                      <a href="https://CSBiology.github.io/BioFSharp//FSIPrinters.html">FSIPrinters</a>
                  </li>
                  <li class="nav-header">Web I/O</li>
                  <li><a href="https://CSBiology.github.io/BioFSharp//UniProt.html">UniProt</a></li>
                  <li><a href="https://CSBiology.github.io/BioFSharp//BioDB.html">BioDB</a></li>
                  <li class="nav-header">Biostatistics</li>
                  <li><a href="https://CSBiology.github.io/BioFSharp//GSEA.html">Ontology enrichment</a></li>
                  <li class="nav-header">Biovisualization</li>
                  <li><a href="https://CSBiology.github.io/BioFSharp//WebLogo.html">Web logo</a></li>
                  <li class="nav-header">GPU Computing</li>
                  <li><a href="https://CSBiology.github.io/BioFSharp//ParallelAlignment.html">Sequence Alignment</a></li>
                  <li class="nav-header">Documentation</li>
                  <li><a href="https://CSBiology.github.io/BioFSharp//reference/index.html">API Reference</a></li>


              </ul>
			</div>
		  </div>
		</div>
		<a href="https://github.com/CSBiology/BioFSharp"><img style="position: absolute; top: 0; right: 0; border: 0;" src="https://s3.amazonaws.com/github/ribbons/forkme_right_gray_6d6d6d.png" alt="Fork me on GitHub"/></a>
	  </body>
  </html>
